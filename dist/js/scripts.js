(()=>{"use strict";var t,e={45:(t,e,a)=>{const n={mixins:[Fieldtype],data:function(){return{state:this.meta.state,data:this.value,secret:"",showApps:null}},computed:{isInValid:function(){return!0!==/^\d{6}$/.test(this.secret)},translations:function(){return this.$store.state.statamic.config.translations},isQrCodeImage:function(){return/^data/.test(this.meta.qrCode)}},methods:{activate:function(){var t=this;this.state="activating",this.$axios.post(this.meta.actions.activate,{secret:this.secret,key:this.meta.key,id:this.meta.id}).then((function(e){!0===e.data.success?(t.$toast.success(t.activate.activated),t.data=t.meta.key,t.state="active"):(t.$toast.error(t.translations["twofa::activate.erorrs.code"]),t.state="idle")})).catch((function(e){t.$toast.error(t.translations["twofa::activate.errors.unknown"]),t.state="idle"})).finally((function(){t.secret="",t.showApps=null}))},deactivate:function(){var t=this;this.state="disabling",this.$axios.post(this.meta.actions.disable,{secret:this.secret,id:this.meta.id}).then((function(e){!0===e.data.success?(t.$toast.success(t.translations["twofa::deactivate.disabled"]),t.data=null,t.state="idle"):(t.$toast.error(t.translations["twofa::deactivate.errors.code"]),t.state="active")})).catch((function(e){t.$toast.error(t.translations["twofa::deactivate.errors.unknown"]),t.state="active"})).finally((function(){t.secret=""}))}}};var i=a(379),s=a.n(i),r=a(512),o={insert:"head",singleton:!1};s()(r.Z,o);r.Z.locals;var c=function(t,e,a,n,i,s,r,o){var c,l="function"==typeof t?t.options:t;if(e&&(l.render=e,l.staticRenderFns=a,l._compiled=!0),n&&(l.functional=!0),s&&(l._scopeId="data-v-"+s),r?(c=function(t){(t=t||this.$vnode&&this.$vnode.ssrContext||this.parent&&this.parent.$vnode&&this.parent.$vnode.ssrContext)||"undefined"==typeof __VUE_SSR_CONTEXT__||(t=__VUE_SSR_CONTEXT__),i&&i.call(this,t),t&&t._registeredComponents&&t._registeredComponents.add(r)},l._ssrRegister=c):i&&(c=o?function(){i.call(this,(l.functional?this.parent:this).$root.$options.shadowRoot)}:i),c)if(l.functional){l._injectStyles=c;var d=l.render;l.render=function(t,e){return c.call(e),d(t,e)}}else{var u=l.beforeCreate;l.beforeCreate=u?[].concat(u,c):[c]}return{exports:t,options:l}}(n,(function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"relative clearfix"},["error"===t.state?a("div",[a("p",[t._v(t._s(t.meta.error))])]):t._e(),t._v(" "),"active"===t.state||"disabling"===t.state?a("div",{staticClass:"content"},[a("p",[t._v(t._s(t.translations["twofa::activated.msg"]))]),t._v(" "),a("div",{staticClass:"input-group"},[a("input",{directives:[{name:"model",rawName:"v-model",value:t.secret,expression:"secret"}],staticClass:"two-fa-input input-text",attrs:{type:"number",pattern:"\\d{6}",maxlength:"6",minlength:"6",step:"1"},domProps:{value:t.secret},on:{input:function(e){e.target.composing||(t.secret=e.target.value)}}}),t._v(" "),a("button",{staticClass:"btn rounded-l-none",attrs:{disabled:t.isInValid||"disabling"===t.state},on:{click:t.deactivate}},[t._v("\n        "+t._s(t.translations["twofa::activated.button"])+"\n      ")])])]):t._e(),t._v(" "),a("transition",{attrs:{name:"two-fa-fade"}},["idle"===t.state?a("div",{staticClass:"\n        activate\n        flex flex-col\n        items-center\n        justify-center\n        absolute\n        top-0\n        right-0\n        bottom-0\n        left-0\n        z-10\n      "},[a("button",{staticClass:"btn btn-primary",on:{click:function(e){t.state="ready"}}},[t._v("\n        "+t._s(t.translations["twofa::activate.enable.button"])+"\n      ")]),t._v(" "),a("div",{staticClass:"content pt-2"},[a("p",[t._v(t._s(t.translations["twofa::activate.enable.description"]))])])]):t._e()]),t._v(" "),"idle"===t.state||"ready"===t.state||"activating"===t.state?a("div",{staticClass:"activate-form"},[a("div",{staticClass:"float-left"},[t.isQrCodeImage?a("img",{attrs:{src:t.meta.qrCode}}):a("div",{domProps:{innerHTML:t._s(t.meta.qrCode)}})]),t._v(" "),a("div",{staticClass:"right-side float-left p-2"},[a("div",{staticClass:"content"},[a("p",{staticClass:"break-all"},[a("strong",[t._v(t._s(t.translations["twofa::activate.key_label"])+":")]),t._v("\n          "+t._s(t.meta.key)+"\n        ")]),t._v(" "),a("p",{staticClass:"break-all"},[a("strong",[t._v(t._s(t.translations["twofa::activate.url_label"])+":")]),t._v("\n          "+t._s(t.meta.url)+"\n        ")])]),t._v(" "),a("div",{staticClass:"pt-2"},[a("label",{staticClass:"publish-field-label pb-2"},[t._v(t._s(t.translations["twofa::activate.label"]))]),t._v(" "),a("div",{staticClass:"input-group"},[a("input",{directives:[{name:"model",rawName:"v-model",value:t.secret,expression:"secret"}],staticClass:"two-fa-input input-text",attrs:{type:"number",pattern:"\\d{6}",maxlength:"6",minlength:"6",step:"1"},domProps:{value:t.secret},on:{input:function(e){e.target.composing||(t.secret=e.target.value)}}}),t._v(" "),a("button",{staticClass:"btn btn-primary rounded-l-none",attrs:{disabled:t.isInValid||"activating"===t.state},on:{click:t.activate}},[t._v("\n            "+t._s(t.translations["twofa::activate.button"])+"\n          ")])])]),t._v(" "),a("div",{staticClass:"content pt-2"},[a("p",[t._v("\n          "+t._s(t.translations["twofa::activate.get_app"])+"\n          "),a("button",{on:{click:function(e){t.showApps="android"}}},[t._v("Android")]),t._v(",\n          "),a("button",{on:{click:function(e){t.showApps="ios"}}},[t._v("iOS")]),t._v(".\n        ")]),t._v(" "),"android"===t.showApps?a("ul",t._l(5,(function(e){return a("li",{key:e},[a("a",{attrs:{href:t.translations["twofa::activate.android."+e+".url"],target:"_blank"}},[t._v(t._s(t.translations["twofa::activate.android."+e+".name"]))])])})),0):t._e(),t._v(" "),"ios"===t.showApps?a("ul",t._l(5,(function(e){return a("li",{key:e},[a("a",{attrs:{href:t.translations["twofa::activate.ios."+e+".url"],target:"_blank"}},[t._v(t._s(t.translations["twofa::activate.ios."+e+".name"]))])])})),0):t._e()])])]):t._e()],1)}),[],!1,null,"1969a3e3",null);const l=c.exports;Statamic.$components.register("two_fa-fieldtype",l)},512:(t,e,a)=>{a.d(e,{Z:()=>s});var n=a(519),i=a.n(n)()((function(t){return t[1]}));i.push([t.id,"@media (min-width:768px){.right-side[data-v-1969a3e3]{width:calc(100% - 200px)}}.activate[data-v-1969a3e3]{background-color:hsla(0,0%,100%,.85)}.activate-form[data-v-1969a3e3]{transition:filter .48s ease-in-out 12ms}.activate+.activate-form[data-v-1969a3e3]{filter:blur(.125em)}.break-all[data-v-1969a3e3]{word-break:break-all!important}.top-0[data-v-1969a3e3]{top:0!important}.right-0[data-v-1969a3e3]{right:0!important}.bottom-0[data-v-1969a3e3]{bottom:0!important}.left-0[data-v-1969a3e3]{left:0!important}",""]);const s=i},519:t=>{t.exports=function(t){var e=[];return e.toString=function(){return this.map((function(e){var a=t(e);return e[2]?"@media ".concat(e[2]," {").concat(a,"}"):a})).join("")},e.i=function(t,a,n){"string"==typeof t&&(t=[[null,t,""]]);var i={};if(n)for(var s=0;s<this.length;s++){var r=this[s][0];null!=r&&(i[r]=!0)}for(var o=0;o<t.length;o++){var c=[].concat(t[o]);n&&i[c[0]]||(a&&(c[2]?c[2]="".concat(a," and ").concat(c[2]):c[2]=a),e.push(c))}},e}},754:()=>{},379:(t,e,a)=>{var n,i=function(){return void 0===n&&(n=Boolean(window&&document&&document.all&&!window.atob)),n},s=function(){var t={};return function(e){if(void 0===t[e]){var a=document.querySelector(e);if(window.HTMLIFrameElement&&a instanceof window.HTMLIFrameElement)try{a=a.contentDocument.head}catch(t){a=null}t[e]=a}return t[e]}}(),r=[];function o(t){for(var e=-1,a=0;a<r.length;a++)if(r[a].identifier===t){e=a;break}return e}function c(t,e){for(var a={},n=[],i=0;i<t.length;i++){var s=t[i],c=e.base?s[0]+e.base:s[0],l=a[c]||0,d="".concat(c," ").concat(l);a[c]=l+1;var u=o(d),v={css:s[1],media:s[2],sourceMap:s[3]};-1!==u?(r[u].references++,r[u].updater(v)):r.push({identifier:d,updater:m(v,e),references:1}),n.push(d)}return n}function l(t){var e=document.createElement("style"),n=t.attributes||{};if(void 0===n.nonce){var i=a.nc;i&&(n.nonce=i)}if(Object.keys(n).forEach((function(t){e.setAttribute(t,n[t])})),"function"==typeof t.insert)t.insert(e);else{var r=s(t.insert||"head");if(!r)throw new Error("Couldn't find a style target. This probably means that the value for the 'insert' parameter is invalid.");r.appendChild(e)}return e}var d,u=(d=[],function(t,e){return d[t]=e,d.filter(Boolean).join("\n")});function v(t,e,a,n){var i=a?"":n.media?"@media ".concat(n.media," {").concat(n.css,"}"):n.css;if(t.styleSheet)t.styleSheet.cssText=u(e,i);else{var s=document.createTextNode(i),r=t.childNodes;r[e]&&t.removeChild(r[e]),r.length?t.insertBefore(s,r[e]):t.appendChild(s)}}function f(t,e,a){var n=a.css,i=a.media,s=a.sourceMap;if(i?t.setAttribute("media",i):t.removeAttribute("media"),s&&"undefined"!=typeof btoa&&(n+="\n/*# sourceMappingURL=data:application/json;base64,".concat(btoa(unescape(encodeURIComponent(JSON.stringify(s))))," */")),t.styleSheet)t.styleSheet.cssText=n;else{for(;t.firstChild;)t.removeChild(t.firstChild);t.appendChild(document.createTextNode(n))}}var p=null,h=0;function m(t,e){var a,n,i;if(e.singleton){var s=h++;a=p||(p=l(e)),n=v.bind(null,a,s,!1),i=v.bind(null,a,s,!0)}else a=l(e),n=f.bind(null,a,e),i=function(){!function(t){if(null===t.parentNode)return!1;t.parentNode.removeChild(t)}(a)};return n(t),function(e){if(e){if(e.css===t.css&&e.media===t.media&&e.sourceMap===t.sourceMap)return;n(t=e)}else i()}}t.exports=function(t,e){(e=e||{}).singleton||"boolean"==typeof e.singleton||(e.singleton=i());var a=c(t=t||[],e);return function(t){if(t=t||[],"[object Array]"===Object.prototype.toString.call(t)){for(var n=0;n<a.length;n++){var i=o(a[n]);r[i].references--}for(var s=c(t,e),l=0;l<a.length;l++){var d=o(a[l]);0===r[d].references&&(r[d].updater(),r.splice(d,1))}a=s}}}}},a={};function n(t){var i=a[t];if(void 0!==i)return i.exports;var s=a[t]={id:t,exports:{}};return e[t](s,s.exports,n),s.exports}n.m=e,t=[],n.O=(e,a,i,s)=>{if(!a){var r=1/0;for(d=0;d<t.length;d++){for(var[a,i,s]=t[d],o=!0,c=0;c<a.length;c++)(!1&s||r>=s)&&Object.keys(n.O).every((t=>n.O[t](a[c])))?a.splice(c--,1):(o=!1,s<r&&(r=s));if(o){t.splice(d--,1);var l=i();void 0!==l&&(e=l)}}return e}s=s||0;for(var d=t.length;d>0&&t[d-1][2]>s;d--)t[d]=t[d-1];t[d]=[a,i,s]},n.n=t=>{var e=t&&t.__esModule?()=>t.default:()=>t;return n.d(e,{a:e}),e},n.d=(t,e)=>{for(var a in e)n.o(e,a)&&!n.o(t,a)&&Object.defineProperty(t,a,{enumerable:!0,get:e[a]})},n.o=(t,e)=>Object.prototype.hasOwnProperty.call(t,e),(()=>{var t={819:0,311:0};n.O.j=e=>0===t[e];var e=(e,a)=>{var i,s,[r,o,c]=a,l=0;if(r.some((e=>0!==t[e]))){for(i in o)n.o(o,i)&&(n.m[i]=o[i]);if(c)var d=c(n)}for(e&&e(a);l<r.length;l++)s=r[l],n.o(t,s)&&t[s]&&t[s][0](),t[r[l]]=0;return n.O(d)},a=self.webpackChunk=self.webpackChunk||[];a.forEach(e.bind(null,0)),a.push=e.bind(null,a.push.bind(a))})(),n.O(void 0,[311],(()=>n(45)));var i=n.O(void 0,[311],(()=>n(754)));i=n.O(i)})();